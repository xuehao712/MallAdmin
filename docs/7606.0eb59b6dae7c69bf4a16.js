(self.webpackChunkmall_admin=self.webpackChunkmall_admin||[]).push([[7606],{7606:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(67294),o=(t=n(94184),n.n(t)),u=n(4084);function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(t=r.forwardRef((function(e,t){var n=e.height,i=e.offset,l=e.children,f=e.prefixCls,s=e.onInnerResize,v={};return e={display:"flex",flexDirection:"column"},void 0!==i&&(v={height:n,position:"relative",overflow:"hidden"},e=c(c({},e),{},{transform:"translateY(".concat(i,"px)"),position:"absolute",left:0,right:0,top:0})),r.createElement("div",{style:v},r.createElement(u.Z,{onResize:function(e){e.offsetHeight&&s&&s()}},r.createElement("div",{style:e,className:o()(a({},"".concat(f,"-holder-inner"),f)),ref:t},l)))}))).displayName="Filler";var l=t,f=n(75164);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);return n=t?(n=h(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||"object"!==s(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){return("touches"in e?e.touches[0]:e).pageY}var y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,r.Component);var e,t=p(n);function n(){var e;return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),(e=t.apply(this,arguments)).moveRaf=null,e.scrollbarRef=r.createRef(),e.thumbRef=r.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.scrollbarRef.current.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp),f.Z.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:b(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n,r=(u=e.state).dragging,o=u.pageY,u=u.startTop,i=e.props.onScroll;f.Z.cancel(e.moveRaf),r&&(u+=b(t)-o,t=e.getEnableScrollRange(),o=(o=e.getEnableHeightRange())?u/o:0,n=Math.ceil(o*t),e.moveRaf=(0,f.Z)((function(){i(n)})))},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=(n=e.props).height,n=t/n.count*10;return n=Math.max(n,20),n=Math.min(n,t/2),Math.floor(n)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.getVisible=function(){var t=e.state.visible,n=e.props,r=n.height;return!(n.scrollHeight<=r)&&t},e}return(e=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state.dragging,t=this.props.prefixCls,n=this.getSpinHeight(),u=this.getTop(),i=this.getVisible();return r.createElement("div",{ref:this.scrollbarRef,className:"".concat(t,"-scrollbar"),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:i?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},r.createElement("div",{ref:this.thumbRef,className:o()("".concat(t,"-scrollbar-thumb"),(i={},t="".concat(t,"-scrollbar-thumb-moving"),e=e,t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i)),style:{width:"100%",height:n,top:u,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,e),n}();function m(e){var t=e.children,n=e.setRef;return e=r.useCallback((function(e){n(e)}),[]),r.cloneElement(t,{ref:e})}var d=n(34203);var g=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.maps={},this.maps.prototype=null}var t;return(t=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n){var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),2!==n.length);r=!0);}catch(e){o=!0,u=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return n}}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.useState(0)),u=o[0],i=o[1],c=(0,r.useRef)(new Map),a=(0,r.useRef)(new g),l=(0,r.useRef)(0);function f(){l.current+=1;var e=l.current;Promise.resolve().then((function(){e===l.current&&(c.current.forEach((function(e,t){var n;e&&e.offsetParent&&(e=(n=(0,d.Z)(e)).offsetHeight,a.current.get(t)!==e&&a.current.set(t,n.offsetHeight))})),i((function(e){return e+1})))}))}return[function(r,o){var u=e(r),i=c.current.get(u);o?(c.current.set(u,o),f()):c.current.delete(u),!i!=!o&&(o?null!=t&&t(r):null!=n&&n(r))},f,a.current,u]}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){var o=(c=E(r.useState(e),2))[0],u=c[1],i=E(r.useState(null),2),c=i[0],a=i[1];return r.useEffect((function(){var r=function(e,t,n){var r,o,u=e.length,i=t.length;if(0===u&&0===i)return null;o=u<i?(r=e,t):(r=t,e);var c={__EMPTY_ITEM__:!0};function a(e){return void 0!==e?n(e):c}for(var l=null,f=1!==Math.abs(u-i),s=0;s<o.length;s+=1){var v=a(r[s]);if(v!==a(o[s])){l=s,f=f||v!==a(o[s+1]);break}}return null===l?null:{index:l,multiple:f}}(o||[],e||[],t);void 0!==(null==r?void 0:r.index)&&(null!=n&&n(r.index),a(e[r.index])),u(e)}),[e]),[c]}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T="object"===("undefined"==typeof navigator?"undefined":j(navigator))&&/Firefox/i.test(navigator.userAgent),P=function(e,t){var n=(0,r.useRef)(!1),o=(0,r.useRef)(null),u=(0,r.useRef)({top:e,bottom:t});return u.current.top=e,u.current.bottom=t,function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return e=e<0&&u.current.top||0<e&&u.current.bottom,t&&e?(clearTimeout(o.current),n.current=!1):e&&!n.current||(clearTimeout(o.current),n.current=!0,o.current=setTimeout((function(){n.current=!1}),50)),!n.current&&e}};function D(e,t,n,o){var u=(0,r.useRef)(0),i=(0,r.useRef)(null),c=(0,r.useRef)(null),a=(0,r.useRef)(!1),l=P(t,n);return[function(t){var n;e&&(f.Z.cancel(i.current),n=t.deltaY,u.current+=n,c.current=n,l(n)||(T||t.preventDefault(),i.current=(0,f.Z)((function(){var e=a.current?10:1;o(u.current*e),u.current=0}))))},function(t){e&&(a.current=t.detail===c.current)}]}function x(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=[],C={overflowY:"auto",overflowAnchor:"none"};(n=r.forwardRef((function(e,t){var n=void 0===($=e.prefixCls)?"rc-virtual-list":$,u=e.className,i=e.height,c=e.itemHeight,a=e.fullHeight,s=void 0===a||a,v=e.style,p=e.data,h=e.children,b=e.itemKey,d=e.virtual,g=void 0===(B=e.component)?"div":B,S=e.onScroll,E=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),u=0;u<o.length;u++)n=o[u],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll"]),R=!(!1===d||!i||!c),j=R&&p&&c*p.length>i,T=(V=k((0,r.useState)(0),2))[0],x=V[1],A=(W=k((0,r.useState)(!1),2))[0],_=W[1],N=o()(n,u),Y=p||I,U=(0,r.useRef)(),Z=(0,r.useRef)(),z=(0,r.useRef)(),K=r.useCallback((function(e){return"function"==typeof b?b(e):e[b]}),[b]),$={getKey:K};function F(e){x((function(t){return t=function(e){return e=Math.max(e,0),Number.isNaN(G.current)||(e=Math.min(e,G.current)),e}(t="function"==typeof e?e(t):e),U.current.scrollTop=t}))}a=(0,r.useRef)({start:0,end:Y.length}),B=(0,r.useRef)(),e=k(M(Y,K),1)[0],B.current=e;var V=(d=k(w(K,null,null),4))[0],W=d[1],q=d[2],B=(u=d[3],(p=r.useMemo((function(){if(!R)return{scrollHeight:void 0,start:0,end:Y.length-1,offset:void 0};var e;if(!j)return{scrollHeight:(null===(e=Z.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:Y.length-1,offset:void 0};for(var t,n,r,o=0,u=Y.length,a=0;a<u;a+=1){var l=K(Y[a]);l=q.get(l),T<=(l=o+(void 0===l?c:l))&&void 0===t&&(t=a,n=o),T+i<l&&void 0===r&&(r=a),o=l}return void 0===t&&(n=t=0),void 0===r&&(r=Y.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,Y.length),offset:n}}),[j,R,T,Y,u,i])).scrollHeight);e=p.start,d=p.end,u=p.offset,a.current.start=e,a.current.end=d,p=B-i;var G=(0,r.useRef)(p);G.current=p;var J=P(a=T<=0,p=p<=T),Q=(p=k(D(R,a,p,(function(e){F((function(t){return t+e}))})),2))[0],X=p[1];(function(e,t,n){function o(e){var t,r;c.current&&(t=Math.ceil(e.touches[0].pageY),r=a.current-t,a.current=t,n(r)&&e.preventDefault(),clearInterval(f.current),f.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(f.current)}),16))}function u(){c.current=!1,s()}function i(e){s(),1!==e.touches.length||c.current||(c.current=!0,a.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",o),l.current.addEventListener("touchend",u))}var c=(0,r.useRef)(!1),a=(0,r.useRef)(0),l=(0,r.useRef)(null),f=(0,r.useRef)(null),s=function(){l.current&&(l.current.removeEventListener("touchmove",o),l.current.removeEventListener("touchend",u))};r.useLayoutEffect((function(){return e&&t.current.addEventListener("touchstart",i),function(){t.current.removeEventListener("touchstart",i),s(),clearInterval(f.current)}}),[e])})(R,U,(function(e,t){return!J(e,t)&&(Q({preventDefault:function(){},deltaY:e}),1)})),r.useLayoutEffect((function(){function e(e){R&&e.preventDefault()}return U.current.addEventListener("wheel",Q),U.current.addEventListener("DOMMouseScroll",X),U.current.addEventListener("MozMousePixelScroll",e),function(){U.current.removeEventListener("wheel",Q),U.current.removeEventListener("DOMMouseScroll",X),U.current.removeEventListener("MozMousePixelScroll",e)}}),[R]);var ee,te,ne,re,oe,ue,ie,ce,ae,le,fe,se,ve,pe=(ee=U,te=Y,ne=q,re=c,oe=K,ue=W,ie=F,ce=function(){var e;null!==(e=z.current)&&void 0!==e&&e.delayHidden()},ae=r.useRef(),function(e){var t,n,r,o;null!=e?(f.Z.cancel(ae.current),"number"==typeof e?ie(e):e&&"object"===O(e)&&(t=e.align,n="index"in e?e.index:te.findIndex((function(t){return oe(t)===e.key})),r=e.offset,o=void 0===r?0:r,function e(r,u){if(!(r<0)&&ee.current){var i=ee.current.clientHeight,c=!1,a=u;if(i){u=u||t;for(var l=0,s=0,v=0,p=0;p<=n;p+=1){var h=oe(te[p]);l=v=(s=l)+(void 0===(h=ne.get(h))?re:h),p===n&&void 0===h&&(c=!0)}var b=null;switch(u){case"top":b=s-o;break;case"bottom":b=v-i+o;break;default:var y=ee.current.scrollTop;s<y?a="top":y+i<v&&(a="bottom")}null!==b&&b!==ee.current.scrollTop&&ie(b)}ae.current=(0,f.Z)((function(){c&&ue(),e(r-1,a)}))}}(3))):ce()});return r.useImperativeHandle(t,(function(){return{scrollTo:pe}})),fe=V,se=h,ve=$.getKey,e=Y.slice(le=e,d+1).map((function(e,t){var n=se(e,le+t,{});return t=ve(e),r.createElement(m,{key:t,setRef:function(t){return fe(e,t)}},n)})),d=null,i&&(d=H(L({},s?"height":"maxHeight",i),C),R&&(d.overflowY="hidden",A&&(d.pointerEvents="none"))),r.createElement("div",Object.assign({style:H(H({},v),{},{position:"relative"}),className:N},E),r.createElement(g,{className:"".concat(n,"-holder"),style:d,ref:U,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==T&&F(t),null!=S&&S(e)}},r.createElement(l,{prefixCls:n,height:B,offset:u,onInnerResize:W,ref:Z},e)),R&&r.createElement(y,{ref:z,prefixCls:n,scrollTop:T,height:i,scrollHeight:B,count:Y.length,onScroll:function(e){F(e)},onStartMove:function(){_(!0)},onStopMove:function(){_(!1)}}))}))).displayName="List";var _=n}}]);