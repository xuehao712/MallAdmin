(self.webpackChunkmall_admin=self.webpackChunkmall_admin||[]).push([[7918],{26271:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"profile",theme:"outlined"},l=n(30076);(n=function(e,t){return r.createElement(l.Z,Object.assign({},e,{ref:t,icon:a}))}).displayName="ProfileOutlined";var o=r.forwardRef(n)},83494:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}}),t=n(67154);var r=n.n(t),a=(t=n(59713),n.n(t)),l=n(67294),o=n(96156),i=n(28481),c=n(81253),s=(t=n(94184),n.n(t)),u=n(21770),d=n(15105);(t=l.forwardRef((function(e,t){var n=void 0===(g=e.prefixCls)?"rc-switch":g,r=e.className,a=e.checked,m=e.defaultChecked,f=e.disabled,p=e.loadingIcon,h=e.checkedChildren,g=e.unCheckedChildren,v=e.onClick,y=e.onChange,b=e.onKeyDown,E=(e=(0,c.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),m=(0,u.Z)(!1,{value:a,defaultValue:m}),(m=(0,i.Z)(m,2))[0]),Z=m[1];function w(e,t){var n=E;return f||(Z(n=e),null!=y&&y(n,t)),n}return r=s()(n,r,(r={},(0,o.Z)(r,"".concat(n,"-checked"),E),(0,o.Z)(r,"".concat(n,"-disabled"),f),r)),l.createElement("button",Object.assign({},e,{type:"button",role:"switch","aria-checked":E,disabled:f,className:r,ref:t,onKeyDown:function(e){e.which===d.Z.LEFT?w(!1,e):e.which===d.Z.RIGHT&&w(!0,e),null!=b&&b(e)},onClick:function(e){var t=w(!E,e);null!=v&&v(t,e)}}),p,l.createElement("span",{className:"".concat(n,"-inner")},E?h:g))}))).displayName="Switch";var m=t,f=(t=n(628),n.n(t)),p=n(28310),h=n(65632),g=n(97647),v=n(21687);(n=l.forwardRef((function(e,t){var n=e.prefixCls,o=e.size,i=e.loading,c=void 0===(b=e.className)?"":b,u=e.disabled,d=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}(e,["prefixCls","size","loading","className","disabled"]);(0,v.Z)("checked"in d||!("value"in d),"Switch","`value` is not a valid prop, do you mean `checked`?");var y=(E=l.useContext(h.E_)).getPrefixCls,b=E.direction,E=(e=l.useContext(g.Z),y("switch",n));return y=l.createElement("div",{className:"".concat(E,"-handle")},i&&l.createElement(f(),{className:"".concat(E,"-loading-icon")})),c=s()((n={},a()(n,"".concat(E,"-small"),"small"===(o||e)),a()(n,"".concat(E,"-loading"),i),a()(n,"".concat(E,"-rtl"),"rtl"===b),n),c),l.createElement(p.Z,{insertExtraNode:!0},l.createElement(m,r()({},d,{prefixCls:E,className:c,disabled:u||i,ref:t,loadingIcon:y})))}))).__ANT_SWITCH=!0,n.displayName="Switch";var y=n},70055:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(16911);e=n.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a={fetchList:l,createRole:o,updateRole:i,updateStatus:c,deleteRole:s,fetchAllRoleList:u,listMenuByRole:d,listResourceByRole:m,allocMenu:f,allocResource:p};function l(e){return(0,r.Z)({url:"/role/list",method:"get",params:e})}function o(e){return(0,r.Z)({url:"/role/create",method:"post",data:e})}function i(e,t){return(0,r.Z)({url:"/role/update/"+e,method:"post",data:t})}function c(e,t){return(0,r.Z)({url:"/role/updateStatus/"+e,method:"post",params:t})}function s(e){return(0,r.Z)({url:"/role/delete",method:"post",data:e})}function u(){return(0,r.Z)({url:"/role/listAll",method:"get"})}function d(e){return(0,r.Z)({url:"/role/listMenu/"+e,method:"get"})}function m(e){return(0,r.Z)({url:"/role/listResource/"+e,method:"get"})}function f(e){return(0,r.Z)({url:"/role/allocMenu",method:"post",data:e})}function p(e){return(0,r.Z)({url:"/role/allocResource",method:"post",data:e})}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(a,"roleServices","c:\\Project\\mall-admin\\src\\services\\role.js"),n.register(l,"fetchList","c:\\Project\\mall-admin\\src\\services\\role.js"),n.register(o,"createRole","c:\\Project\\mall-admin\\src\\services\\role.js"),n.register(i,"updateRole","c:\\Project\\mall-admin\\src\\services\\role.js"),n.register(c,"updateStatus","c:\\Project\\mall-admin\\src\\services\\role.js"),n.register(s,"deleteRole","c:\\Project\\mall-admin\\src\\services\\role.js"),n.register(u,"fetchAllRoleList","c:\\Project\\mall-admin\\src\\services\\role.js"),n.register(d,"listMenuByRole","c:\\Project\\mall-admin\\src\\services\\role.js"),n.register(m,"listResourceByRole","c:\\Project\\mall-admin\\src\\services\\role.js"),n.register(f,"allocMenu","c:\\Project\\mall-admin\\src\\services\\role.js"),n.register(p,"allocResource","c:\\Project\\mall-admin\\src\\services\\role.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},21671:function(e,t,n){"use strict";function r(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var n,r,l={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(n in l)new RegExp("(".concat(n,")")).test(t)&&(r=l[n]+"",t=t.replace(RegExp.$1,1===RegExp.$1.length?r:a(r)));return t}function a(e){return("00"+e).substr(e.length)}function l(e,t){t=t||"-";var n=e.split(t);return e=parseInt(n[0]),t=0==n[1].indexOf("0")?parseInt(n[1].substring(1)):parseInt(n[1]),n=parseInt(n[2]),new Date(e,t-1,n)}n.d(t,{p:function(){return r},v:function(){return l}}),e=n.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(r,"formatDate","c:\\Project\\mall-admin\\src\\utils\\date.js"),n.register(a,"padLeftZero","c:\\Project\\mall-admin\\src\\utils\\date.js"),n.register(l,"str2Date","c:\\Project\\mall-admin\\src\\utils\\date.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},27918:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var r=n(26271),a=n(67294),l=(0,n(58543).Z)(a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined"),o=n(14617),i=n(8834),c=n(48086),s=n(39144),u=n(71577),d=n(35845),m=n(36929),f=n(83494),p=n(19650),h=n(47933),g=n(28368),v=n(83663),y=n(94217),b=n(57895),E=n(70055),Z=n(21671);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(){var e=o.Z.TextArea,t=i.Z.Option;function n(e){return null==e||""===e?"N/A":(e=new Date(e),(0,Z.p)(e,"yyyy-MM-dd hh:mm:ss"))}o.Z.Search,(0,a.useEffect)((function(){F(),J()}),[]);var S={pageNum:1,pageSize:10,keyword:null},O={id:null,username:null,password:null,nickName:null,email:null,note:null,status:1},x=(q=k((0,a.useState)(S),2))[0],L=q[1],P=(I=k((0,a.useState)(null),2))[0],R=I[1],z=(B=k((0,a.useState)(null),2))[0],A=B[1],N=(W=k((0,a.useState)(!1),2))[0],H=W[1],I=(q=k((0,a.useState)(!1),2))[0],G=q[1],M=(B=k((0,a.useState)(O),2))[0],T=B[1],D=(W=k((0,a.useState)(!1),2))[0],V=W[1],B=(q=k((0,a.useState)(!1),2))[0],Y=q[1],_=(W=k((0,a.useState)([]),2))[0],U=W[1],W=(q=k((0,a.useState)([]),2))[0],$=q[1],K=(q=k((0,a.useState)(null),2))[0],Q=q[1],F=function(){H(!0),b.z.fetchList(x).then((function(e){H(!1),R(e.data.list),A(e.data.total)}))},J=function(){E.T.fetchList().then((function(e){$(e.data.list)}))},q=function(e){e=(t=e.target).value;var t=t.name;T(j(j({},M),{},C({},t,e)))};return z={pagination:{position:"bottomRight",pageSize:x.pageSize,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")},pageSizeOptions:[5,10,15],total:z,current:x.pageNum,onShowSizeChange:function(e,t){return n=t,(t=x).pageNum=1,t.pageSize=n,L(t),void F();var n},onChange:function(e){return t=e,(e=x).pageNum=t,L(e),void F();var t}},bordered:!0,size:"default"},a.createElement("div",{className:"app-container"},a.createElement(s.Z,{className:"filter-container"},a.createElement("div",null,a.createElement(l,null),a.createElement("span",null,"Filter Search"),a.createElement(u.Z,{style:{float:"right"},type:"primary",onClick:function(){L(j(j({},x),{},{pageNum:1})),F()},size:"small"},"Search"),a.createElement(u.Z,{style:{float:"right",marginRight:"15px"},onClick:function(){L(S)},size:"small"},"Reset")),a.createElement("div",{style:{marginTop:"15px"}},a.createElement(d.Z,{layout:"inline",size:"small",labelCol:{span:8}},a.createElement(d.Z.Item,{label:"Search: "},a.createElement(o.Z,{value:x.keyword,name:"keyword",onChange:function(e){return L(j(j({},x),{},{keyword:e.target.value}))},className:"input-width",placeholder:"Username/Name"}))))),a.createElement(s.Z,{className:"operate-container"},a.createElement(r.Z,null),a.createElement("span",null,"Data List"),a.createElement(u.Z,{size:"small",className:"btn-add",style:{marginLeft:"20px"},onClick:function(){G(!0),V(!1),T(O)}},"Add")),a.createElement("div",{className:"table-container"},a.createElement(m.Z,w({rowKey:"id"},z,{dataSource:P,style:{width:"100%"},loading:N}),a.createElement(y.Z,{width:"100px",align:"center",title:"Id",render:function(e,t){return a.createElement("div",null,t.id)}}),a.createElement(y.Z,{align:"center",title:"Username",render:function(e,t){return a.createElement("div",null,t.username)}}),a.createElement(y.Z,{align:"center",title:"Nickname",render:function(e,t){return a.createElement("div",null,t.nickName)}}),a.createElement(y.Z,{align:"center",title:"Email",render:function(e,t){return a.createElement("div",null,t.email)}}),a.createElement(y.Z,{align:"center",title:"CreateTime",width:"160px",render:function(e,t){return a.createElement("div",{style:{minWidth:"160px"}},n(t.createTime))}}),a.createElement(y.Z,{align:"center",title:"LoginTime",width:"160px",render:function(e,t){return a.createElement("div",{style:{minWidth:"160px"}},n(t.loginTime))}}),a.createElement(y.Z,{align:"center",title:"Status",width:"140px",render:function(e,t){return a.createElement("div",null,a.createElement(f.Z,{onChange:function(e){return n=e,r=t,void(0,g.default)({title:"Are you sure to modify status?",okText:"Yes",okType:"primary",onOk:function(){b.z.updateStatus(r.id,{status:n?1:0}).then((function(e){c.ZP.success("Modify Success"),F()}))},onCancel:function(){c.ZP.info("Cancel Modify"),F()}});var n,r},checked:t.status}))}}),a.createElement(y.Z,{width:"180px",align:"center",title:"Operation",render:function(e,t){return a.createElement(p.Z,null,a.createElement(u.Z,{size:"small",type:"text",onClick:function(){return Q((e=t).id),Y(!0),void function(e){b.z.getRoleByAdmin(e).then((function(e){var t=e.data,n=[];if(null!=t&&0<t.length)for(var r=0;r<t.length;r++)n.push(t[r].id);U(n)}))}(e.id);var e}},"Role"),a.createElement("br",null),a.createElement(u.Z,{size:"small",type:"text",onClick:function(){return e=t,G(!0),V(!0),void T(e);var e}},"Modify"),a.createElement("br",null),a.createElement(u.Z,{size:"small",danger:!0,type:"text",onClick:function(){return e=t,void(0,g.default)({title:"Are you sure to delete this user?",okText:"Yes",okType:"primary",onOk:function(){b.z.deleteAdmin(e.id).then((function(e){c.ZP.success("Delete Success!"),F()}))},onCancel:function(){}});var e}},"Delete"))}}))),a.createElement(v.default,{title:D?"Edit Admin":"Add Admin",visible:I,style:{minWidth:"500px"},width:"40%",onCancel:function(){return G(!1)},onOk:function(){(0,g.default)({title:"Are you sure to confirm?",okText:"Yes",okType:"primary",onOk:function(){D?b.z.updateAdmin(M.id,M).then((function(e){c.ZP.success("Modify Success"),G(!1),F()})):b.z.createAdmin(M).then((function(e){c.ZP.success("Add Success"),G(!1),F()}))},onCancel:function(){}})}},a.createElement(d.Z,{labelCol:{span:8},size:"small"},a.createElement(d.Z.Item,{label:"Username: "},a.createElement(o.Z,{value:M.username,style:{width:"250px"},name:"username",onChange:q})),a.createElement(d.Z.Item,{label:"Nickname: "},a.createElement(o.Z,{value:M.nickName,style:{width:"250px"},name:"nickName",onChange:q})),a.createElement(d.Z.Item,{label:"Email: "},a.createElement(o.Z,{value:M.email,style:{width:"250px"},name:"email",onChange:q})),a.createElement(d.Z.Item,{label:"Password: "},a.createElement(o.Z,{value:M.password,type:"password",style:{width:"250px"},name:"password",onChange:q})),a.createElement(d.Z.Item,{label:"Note: "},a.createElement(e,{value:M.note,rows:5,style:{width:"250px"},name:"note",onChange:q})),a.createElement(d.Z.Item,{label:"Status: "},a.createElement(h.ZP.Group,{value:M.status,name:"status",onChange:q},a.createElement(h.ZP,{value:1},"Yes"),a.createElement(h.ZP,{value:0},"No"))))),a.createElement(v.default,{title:"Assign Role",visible:B,style:{minWidth:"350px"},width:"30%",onCancel:function(){return Y(!1)},onOk:function(){(0,g.default)({title:"Are you sure to confirm?",okText:"Yes",okType:"primary",onOk:function(){var e=new URLSearchParams;e.append("adminId",K),e.append("roleIds",_),b.z.allocRole(e).then((function(e){c.ZP.success("Alloc Success"),Y(!1)}))},onCancel:function(){}})}},a.createElement(i.Z,{value:_,mode:"multiple",onChange:function(e){return U(e)},placeholder:"Please select",size:"small",style:{width:"80%"}},W.map((function(e){return a.createElement(t,{key:e.id,value:e.id},e.name)})))))}n(29041),e=n.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(x,"useEffect{}\nuseState{[listQuery, setListQuery](defaultListQuery)}\nuseState{[list, setList](null)}\nuseState{[total, setTotal](null)}\nuseState{[listLoading, setListLoading](false)}\nuseState{[dialogVisible, setDialogVisible](false)}\nuseState{[admin, setAdmin](defaultAdmin)}\nuseState{[isEdit, setIsEdit](false)}\nuseState{[allocDialogVisible, setAllocDialogVisible](false)}\nuseState{[allocRoleIds, setAllocRoleIds]([])}\nuseState{[allRoleList, setAllRoleList]([])}\nuseState{[allocAdminId, setAllocAdminId](null)}");var L=n=x;(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(t.register(x,"Admin","c:\\Project\\mall-admin\\src\\views\\ums\\admin\\index.js"),t.register(n,"default","c:\\Project\\mall-admin\\src\\views\\ums\\admin\\index.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}}]);