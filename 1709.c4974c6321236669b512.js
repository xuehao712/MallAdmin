(self.webpackChunkmall_admin=self.webpackChunkmall_admin||[]).push([[1709],{91774:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});var o=r(16911);e=r.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n={fetchList:a,deleteMenu:l,createMenu:c,updateMenu:u,getMenu:s,updateHidden:i,fetchTreeList:d};function a(e,t){return(0,o.Z)({url:"/menu/list/"+e,method:"get",params:t})}function l(e){return(0,o.Z)({url:"/menu/delete/"+e,method:"post"})}function c(e){return(0,o.Z)({url:"/menu/create",method:"post",data:e})}function u(e,t){return(0,o.Z)({url:"/menu/update/"+e,method:"post",data:t})}function s(e){return(0,o.Z)({url:"/menu/"+e,method:"get"})}function i(e,t){return(0,o.Z)({url:"/menu/updateHidden/"+e,method:"post",params:t})}function d(){return(0,o.Z)({url:"/menu/treeList",method:"get"})}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(r.register(n,"menuServices","c:\\Project\\mall-admin\\src\\services\\menu.js"),r.register(a,"fetchList","c:\\Project\\mall-admin\\src\\services\\menu.js"),r.register(l,"deleteMenu","c:\\Project\\mall-admin\\src\\services\\menu.js"),r.register(c,"createMenu","c:\\Project\\mall-admin\\src\\services\\menu.js"),r.register(u,"updateMenu","c:\\Project\\mall-admin\\src\\services\\menu.js"),r.register(s,"getMenu","c:\\Project\\mall-admin\\src\\services\\menu.js"),r.register(i,"updateHidden","c:\\Project\\mall-admin\\src\\services\\menu.js"),r.register(d,"fetchTreeList","c:\\Project\\mall-admin\\src\\services\\menu.js")),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)},70055:function(e,t,r){"use strict";r.d(t,{T:function(){return n}});var o=r(16911);e=r.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n={fetchList:a,createRole:l,updateRole:c,updateStatus:u,deleteRole:s,fetchAllRoleList:i,listMenuByRole:d,listResourceByRole:m,allocMenu:f,allocResource:p};function a(e){return(0,o.Z)({url:"/role/list",method:"get",params:e})}function l(e){return(0,o.Z)({url:"/role/create",method:"post",data:e})}function c(e,t){return(0,o.Z)({url:"/role/update/"+e,method:"post",data:t})}function u(e,t){return(0,o.Z)({url:"/role/updateStatus/"+e,method:"post",params:t})}function s(e){return(0,o.Z)({url:"/role/delete",method:"post",data:e})}function i(){return(0,o.Z)({url:"/role/listAll",method:"get"})}function d(e){return(0,o.Z)({url:"/role/listMenu/"+e,method:"get"})}function m(e){return(0,o.Z)({url:"/role/listResource/"+e,method:"get"})}function f(e){return(0,o.Z)({url:"/role/allocMenu",method:"post",data:e})}function p(e){return(0,o.Z)({url:"/role/allocResource",method:"post",data:e})}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(r.register(n,"roleServices","c:\\Project\\mall-admin\\src\\services\\role.js"),r.register(a,"fetchList","c:\\Project\\mall-admin\\src\\services\\role.js"),r.register(l,"createRole","c:\\Project\\mall-admin\\src\\services\\role.js"),r.register(c,"updateRole","c:\\Project\\mall-admin\\src\\services\\role.js"),r.register(u,"updateStatus","c:\\Project\\mall-admin\\src\\services\\role.js"),r.register(s,"deleteRole","c:\\Project\\mall-admin\\src\\services\\role.js"),r.register(i,"fetchAllRoleList","c:\\Project\\mall-admin\\src\\services\\role.js"),r.register(d,"listMenuByRole","c:\\Project\\mall-admin\\src\\services\\role.js"),r.register(m,"listResourceByRole","c:\\Project\\mall-admin\\src\\services\\role.js"),r.register(f,"allocMenu","c:\\Project\\mall-admin\\src\\services\\role.js"),r.register(p,"allocResource","c:\\Project\\mall-admin\\src\\services\\role.js")),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)},61709:function(e,t,r){"use strict";r.r(t);var o=r(48086),n=r(39144),a=r(73170),l=r(19650),c=r(71577),u=r(28368),s=r(67294),i=r(16550),d=r(91774),m=r(70055);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,n=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done)&&(r.push(l.value),!t||r.length!==t);o=!0);}catch(e){n=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(n)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function v(){var e=(0,i.TH)(),t=(0,s.useRef)(null);(0,s.useEffect)((function(){b(),L(v)}),[]);var r=(h=f((0,s.useState)([]),2))[0],p=h[1],v=(h=f((0,s.useState)(e.state.roleId),2))[0],h=(h[1],e=f((0,s.useState)([]),2))[0],g=e[1],j=(e=f((0,s.useState)(null),2))[0],y=e[1],b=function(){d.X.fetchTreeList().then((function(e){for(var t=e.data,r=0;r<t.length;r++){t[r].key=t[r].id;for(var o=0;o<t[r].children.length;o++)t[r].children[o].key=t[r].children[o].id}p(t)}))},L=function(e){m.T.listMenuByRole(e).then((function(e){var t=e.data,r=[];if(null!=t&&0<t.length)for(var o=0;o<t.length;o++){var n=t[o];0!==n.parentId&&r.push(n.id)}g(r)}))};return s.createElement("div",{className:"form-wrapper"},s.createElement(n.Z,{className:"form-container"},s.createElement(a.Z,{ref:t,checkable:!0,checkedKeys:h,treeData:r,onCheck:function(e,t){g(e),y(t.checkedNodes)}}),s.createElement(l.Z,{style:{marginTop:"20px",alignContent:"center"}},s.createElement(c.Z,{type:"primary",onClick:function(){var e=j,t=new Set;if(null!=e&&0<e.length)for(var r=0;r<e.length;r++){var n=e[r];t.add(n.id),0!==n.parentId&&t.add(n.parentId)}(0,u.default)({title:"Are you sure to assign menu?",okText:"Yes",okType:"primary",onOk:function(){var e=new URLSearchParams;e.append("roleId",v),e.append("menuIds",Array.from(t)),m.T.allocMenu(e).then((function(e){o.ZP.success("Alloc Success",5),history.back()}))},onCancel:function(){}})}},"Save"),s.createElement(c.Z,{onClick:function(){g([])}},"Clear"))))}e=r.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useLocation{route}\nuseRef{tree}\nuseEffect{}\nuseState{[menuTreeList, setMenuTreeList]([])}\nuseState{[roleId, setRoleId](route.state.roleId)}\nuseState{[menuId, setMenuId]([])}\nuseState{[info, setInfo](null)}",(function(){return[i.TH]})),r=v,t.default=r,(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(t.register(v,"AllocMenu","c:\\Project\\mall-admin\\src\\views\\ums\\role\\allocMenu.js"),t.register(r,"default","c:\\Project\\mall-admin\\src\\views\\ums\\role\\allocMenu.js")),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)}}]);